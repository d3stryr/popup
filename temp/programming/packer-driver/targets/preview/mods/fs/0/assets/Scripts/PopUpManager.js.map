{"version":3,"sources":["file:///Users/prajwal/PopUpManager/assets/Scripts/PopUpManager.ts"],"names":["_decorator","Label","sys","JsonAsset","Component","Node","ccclass","property","PopUpManager","type","start","localStorage","setItem","JSON","stringify","checkLaunch","launchCount","parse","getItem","popup","popCount","dets","popupdata","json","popupData","length","i","popups","popuptext","string","text","popupNode","active","OnClickClose"],"mappings":"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","sourcesContent":["\nimport { _decorator,Label,sys,JsonAsset, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = PopUpManager\n * DateTime = Sun May 01 2022 18:17:04 GMT+0530 (India Standard Time)\n * Author = prajwal_ramappa\n * FileBasename = PopUpManager.ts\n * FileBasenameNoExtension = PopUpManager\n * URL = db://assets/Scripts/PopUpManager.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n \n@ccclass('PopUpManager')\nexport class PopUpManager extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n    @property({type:JsonAsset})\n    popupdata:JsonAsset|null = null;\n\n    @property({type:Label})\n    popuptext:Label|null = null;\n\n    @property({type:Node})\n    popupNode:Node|null = null;\n\n    start () {\n        sys.localStorage.setItem('countofpopups',JSON.stringify(0));\n        this.checkLaunch();\n    }\n    checkLaunch()\n    {\n        var launchCount=JSON.parse(sys.localStorage.getItem('launchCount'));\n        if(launchCount==null)\n        {\n            sys.localStorage.setItem('launchCount',JSON.stringify(0));\n        }\n        else\n        {\n            sys.localStorage.setItem('launchCount',JSON.stringify(++launchCount));\n        }\n        this.popup();\n    }\n\n    popup()\n    {\n        var launchCount=JSON.parse(sys.localStorage.getItem('launchCount'));\n        var popCount=JSON.parse(sys.localStorage.getItem('countofpopups')); \n        var dets=this.popupdata.json;\n        if(dets.popupData.length>0)\n        {\n            for(let i=0;i<dets.popupData.length;i++)\n            {\n                if(dets.popupData[i].launchCount==launchCount+1)\n                {\n                    if(popCount<dets.popupData[i].popups.length)\n                    {\n                        this.popuptext.string=dets.popupData[i].popups[popCount].text;\n                        this.popupNode.active = true;\n                        sys.localStorage.setItem('countofpopups',JSON.stringify(++popCount));\n                    }\n                }\n            }\n        }\n    }\n    OnClickClose()\n    {\n        this.popupNode.active = false;\n        this.popup();\n    }\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}